# Changelog

All notable changes to this project will be documented in this file.

The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/),
and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).

## [0.1.4] - 2026-02-21

### Added

- **DOM Capture**: New `capture_dom_snapshot` and `capture_full_debug_state` commands for capturing DOM state
- **Clear Debug Logs**: New `clear_debug_log_files_command` to delete/truncate debug log files at startup
- **Screenshot Copy**: New `copy_screenshot_to_debug_dir` command to copy screenshots from `tauri-plugin-screenshots` output to `debug-tools/screenshots/`
- **TypeScript helpers**:
  - `captureDOMSnapshot()` in `domCapture.ts` for frontend DOM capture
  - `clearDebugLogFiles()` in `debugBridge.ts` for clearing log files
  - `copyScreenshotToDebugDir()` in `debugBridge.ts` for copying screenshots
  - `captureMainWindowToDebugDir()` in `screenshotHelper.ts` for capture + copy in one step
- **Log Directory API**: New `get_log_directory` command returning all debug-tools paths

### Changed

- **Log file location**: Changed from `/tmp/` to Tauri's `app_log_dir()/debug-tools/` for proper platform integration
- **Documentation**: Updated AGENTS.md, README.md, and skill references with new commands and paths
- **Architecture**: Refactored to clean architecture with adapters, domain, and application layers

### Technical

- Added `config.rs` for centralized configuration management
- Added `adapters/filesystem.rs` for file system operations
- Added `adapters/logging.rs` for tracing integration
- Added `application/use_cases.rs` for business logic separation
- Updated dependencies to latest versions

## [0.1.3] - 2026-01-04

### Changed

- Improved console logger initialization to display log file path in debug mode
- Initialization message now shows the actual log file path when logger is ready
- Moved initialization message from constructor to `resetLogsFile()` method for better timing

### Technical

- Added `logPath` property to `ConsoleLogCollector` class to store the log file path
- Modified `resetLogsFile()` method to capture and display the path returned from `reset_debug_logs` command
- Enhanced developer experience by providing immediate visibility into log file location

## [0.1.2] - 2026-01-03

### Fixed

- Fixed E2E tests failing due to log file name pattern mismatch
- Updated test expectations to match new log file naming convention with app name and PID

### Changed

- Log file naming now includes application name and process ID for better isolation
- File path format changed from `/tmp/tauri_console_logs.jsonl` to `/tmp/tauri_console_logs_[app_name]_[pid].jsonl`
- `reset_debug_logs` and `append_debug_logs` commands now accept `AppHandle<R>` parameter
- Updated documentation to reflect new log file locations across platform-specific paths

## [0.1.0] - 2026-01-01

### Added

- Initial release of the Tauri debug tools plugin with Rust backend commands for log capture, webview state capture, and debug snapshots.
- TypeScript guest utilities for console log collection, IPC bridge, and screenshot helper.
- Permission schemas and autogenerated command metadata for Tauri capabilities.
- Debugging skill pack with references and scripts to analyze logs, capture screenshots, and validate setup.
- Example Tauri app with end-to-end tests to exercise the plugin.

### Technical

- Build configuration for Rust and TypeScript, plus linting and formatting setup with Biome and TypeScript checks.
